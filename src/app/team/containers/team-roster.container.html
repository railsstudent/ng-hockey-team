<div class="team-container">
  <ng-container *ngIf="(team$ | async) as team">
    <header class="heading">
      <a (click)="returnToMenu()" aria-label="Return to team menu">
        <i class="fas fa-chevron-circle-left fa-3x"></i>
      </a>
      <div class="title">
        <span class="center">{{ team.division }} - {{ team.name }}</span>
      </div>
      <span class="spacer"></span>
    </header>
    <section class="roster-container">
      <ng-container *ngIf="{ msg: error$ | async, hideError: hideError$ | async } as error">
        <div class="alert alert-danger team-alert" role="alert" *ngIf="error.msg && !error.hideError">
          <div class="alert-items">
            <div class="alert-item static">
              <div class="alert-icon-wrapper">
                <i class="fas fa-info-circle"></i>
              </div>
              <span class="alert-text">{{ error.msg }}</span>
            </div>
          </div>
          <button type="button" class="close" aria-label="Close" (click)="closeAlert()">
            <i class="fas fa-times-circle"></i>
          </button>
        </div>
      </ng-container>
      <section class="main-content">
        <ng-container *ngIf="(isSmallScreen$ | async); else horizontalTable">
          <team-stat-vertical-table
            [team]="team"
            (updateWin)="updateWin$.next($event)"
            (updateLoss)="updateLoss$.next($event)"
            (updateDraw)="updateDraw$.next($event)"
            (updateOvertimeWin)="updateOvertimeWin$.next($event)"
            (updateOvertimeLoss)="updateOvertimeLoss$.next($event)"
            (updateGoalsFor)="updateGoalsFor$.next($event)"
            (updateGoalsAgainst)="updateGoalsAgainst$.next($event)"
          ></team-stat-vertical-table>
        </ng-container>
        <team-analysis></team-analysis>
        <!-- <div class="player-container"></div> -->
      </section>
    </section>
    <ng-template #horizontalTable>
      <team-stat-horizontal-table
        [team]="team"
        (updateWin)="updateWin$.next($event)"
        (updateLoss)="updateLoss$.next($event)"
        (updateDraw)="updateDraw$.next($event)"
        (updateOvertimeWin)="updateOvertimeWin$.next($event)"
        (updateOvertimeLoss)="updateOvertimeLoss$.next($event)"
        (updateGoalsFor)="updateGoalsFor$.next($event)"
        (updateGoalsAgainst)="updateGoalsAgainst$.next($event)"
        [overtimeArrowsVisible]="team.numDraw > team.numOTWin + team.numOTLoss"
      ></team-stat-horizontal-table>
    </ng-template>
  </ng-container>
</div>
